
@{
    ViewBag.Title = "SalesReport";
}

<div class="container mt-3">
    <div class="wrapper">
        <canvas id="chart-0"></canvas>
    </div>
</div>
@section scripts{
    <script src="~/Scripts/Chart.min.js"></script>
    <script src="~/Scripts/utils.js"></script>
    <script>
        var presets = window.chartColors;
        var utils = Samples.utils;
        var inputs = {
            min: 20,
            max: 80,
            count: 8,
            decimals: 2,
            continuity: 1
        };

        function generateData() {
            return utils.numbers(inputs);
        }

        function generateLabels() {
            return utils.months({ count: inputs.count });
        }

        utils.srand(42);

        var data = {
            labels: generateLabels(),
            datasets: [{
                backgroundColor: utils.transparentize(presets.purple),
                borderColor: presets.purple,
                data:[10,20],
                label: 'D6',
                fill: false
            }, {
                backgroundColor: utils.transparentize(presets.red),
                borderColor: presets.red,
                data: generateData(),
                label: 'D7',
                fill: 8
            }]
        };

        var options = {
            maintainAspectRatio: true,
            spanGaps: false,
            elements: {
                line: {
                    tension: 0.000001
                }
            },
            scales: {
                yAxes: [{
                    stacked: true
                }]
            },
            plugins: {
                filler: {
                    propagate: false
                },
                'samples-filler-analyser': {
                    target: 'chart-analyser'
                }
            }
        };

        var chart = new Chart('chart-0', {
            type: 'line',
            data: data,
            options: options
        });

        // eslint-disable-next-line no-unused-vars
        function togglePropagate(btn) {
            var value = btn.classList.toggle('btn-on');
            chart.options.plugins.filler.propagate = value;
            chart.update();
        }

        // eslint-disable-next-line no-unused-vars
        function toggleSmooth(btn) {
            var value = btn.classList.toggle('btn-on');
            chart.options.elements.line.tension = value ? 0.4 : 0.000001;
            chart.update();
        }

        // eslint-disable-next-line no-unused-vars
        function randomize() {
            chart.data.datasets.forEach(function (dataset) {
                dataset.data = generateData();
            });
            chart.update();
        }
    </script>
}
